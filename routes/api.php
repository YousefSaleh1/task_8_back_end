<?php

use App\Http\Controllers\AuthController;
use App\Http\Controllers\DepartmentController;
use App\Http\Controllers\EmployeeController;
use App\Http\Controllers\NoteController;
use App\Http\Controllers\ProductController;
use App\Http\Controllers\ProjectController;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Route;

/*
|--------------------------------------------------------------------------
| API Routes
|--------------------------------------------------------------------------
|
| Here is where you can register API routes for your application. These
| routes are loaded by the RouteServiceProvider and all of them will
| be assigned to the "api" middleware group. Make something great!
|
*/

/////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////// Auth Requests ////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////

Route::post('/login', [AuthController::class, 'login']);
Route::post('/register', [AuthController::class, 'register']);
Route::post('logout', [AuthController::class, 'logout'])->middleware('api');

/////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////// End Auth Requests //////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////

Route::middleware(['api'])->group(function () {

    Route::apiResource('/project', ProjectController::class);

    /////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////// Department Requests /////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////

    Route::apiResource('/department', DepartmentController::class);
    Route::get('/department-deleted', [DepartmentController::class, 'showDeleted']);
    Route::put('/department-restore/{department}', [DepartmentController::class, 'departmentRestore']);
    Route::delete('/department-force-delete/{department}', [DepartmentController::class, 'forceDelete']);

    /////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////// End Department Requests ///////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////

    /////////////////////////////////////////////////////////////////////////////////////////////////////
    //////////////////////////////////////// Employee Requests //////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////

    Route::apiResource('/employee', EmployeeController::class);
    Route::get('/employee-deleted', [EmployeeController::class, 'showDeleted']);
    Route::put('/employee-restore/{employee}', [EmployeeController::class, 'employeeRestore']);
    Route::delete('/employee-force-delete/{employee}', [EmployeeController::class, 'forceDelete']);

    /////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////// End Employee Requests ////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////

    /////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////// Note Requests ////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////

    Route::get('notes', [NoteController::class, 'index']);
    Route::post('employee-note/{employee}', [NoteController::class, 'employeeStore']);
    Route::post('department-note/{department}', [NoteController::class, 'departmentStore']);
    Route::get('note/{note}', [NoteController::class, 'show']);
    Route::put('note-update/{note}', [NoteController::class, 'update']);
    Route::delete('note-delete/{note}', [NoteController::class, 'destroy']);

    /////////////////////////////////////////////////////////////////////////////////////////////////////
    //////////////////////////////////////// End Note Requests //////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////

});
